import{g as n,s as r,a as c}from"./utils-rFPDwf7D.js";import{P as s}from"./ProductData-BrgBjjpn.js";class i{constructor(e,o){this.productId=e,this.product={},this.dataSource=o}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const e=n("so-cart")||[],o=e.findIndex(a=>a.Id===this.product.Id);if(o!==-1)e[o].quantity+=1,alert(`${this.product.Name} is al ready in your cart. We add one quantity more.`),d();else{const a={...this.product,quantity:1};e.push(a),alert(`${this.product.Name} has been added.`),d()}r("so-cart",e),renderCartContents()}renderProductDetails(){u(this.product)}}function u(t){document.querySelector("title").textContent="Sleep Outside | "+t.Name,document.querySelector("h2").textContent=t.Brand.Name,document.querySelector("h3").textContent=t.NameWithoutBrand;const e=document.getElementById("productImage");e.src=t.Image,e.alt=t.NameWithoutBrand,document.getElementById("productPrice").textContent="$"+t.FinalPrice,document.getElementById("productColor").textContent=t.Colors[0].ColorName,document.getElementById("productDesc").innerHTML=t.DescriptionHtmlSimple,document.getElementById("addToCart").dataset.id=t.Id}function d(){const t=document.getElementById("icon");t.classList.add("shake"),setTimeout(()=>{t.classList.remove("shake")},1e3)}const m=new s("tents"),l=c("product"),h=new i(l,m);h.init();
